<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Minesweeper Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #1a1a2a;
            color: #e0e0e0;
            padding: 20px;
            text-align: center;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #252535;
            border-radius: 10px;
        }
        .test-btn {
            background: #3b82f6;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px;
            font-size: 16px;
        }
        .test-btn:hover {
            background: #2563eb;
        }
        .status {
            margin: 20px 0;
            padding: 15px;
            background: #303040;
            border-radius: 5px;
            border-left: 4px solid #10b981;
        }
        .error {
            border-left-color: #ef4444;
            background: #3a1a1a;
        }
        iframe {
            width: 100%;
            height: 600px;
            border: 2px solid #404050;
            border-radius: 10px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéÆ Minesweeper Test Page</h1>

        <div class="status" id="status">
            ‚úì Test page loaded successfully!
        </div>

        <h2>Choose how to test the game:</h2>

        <div>
            <button class="test-btn" onclick="loadDevServer()">
                üåê Load from Dev Server (localhost:1420)
            </button>
            <button class="test-btn" onclick="loadPreviewServer()">
                üì¶ Load from Preview (localhost:4173)
            </button>
        </div>

        <div id="info" style="margin: 20px 0; display: none;">
            <p>Loading game from: <strong id="sourceUrl"></strong></p>
        </div>

        <iframe id="gameFrame" src="about:blank"></iframe>

        <div style="margin-top: 20px; font-size: 14px; color: #a0a0b0;">
            <p><strong>Tips:</strong></p>
            <ul style="text-align: left; display: inline-block;">
                <li>Click the buttons above to load the game</li>
                <li>Wait a few seconds for the game to load</li>
                <li>If still black, check browser console (F12) for errors</li>
                <li>Try clearing browser cache (Ctrl+Shift+Delete)</li>
                <li>Try a different browser</li>
            </ul>
        </div>
    </div>

    <script>
        const statusDiv = document.getElementById('status');
        const infoDiv = document.getElementById('info');
        const gameFrame = document.getElementById('gameFrame');
        const sourceUrlSpan = document.getElementById('sourceUrl');

        function updateStatus(message, isError = false) {
            statusDiv.textContent = message;
            statusDiv.className = isError ? 'status error' : 'status';
        }

        function loadDevServer() {
            const url = 'http://localhost:1420';
            updateStatus(`Loading from: ${url}`);
            infoDiv.style.display = 'block';
            sourceUrlSpan.textContent = url;
            gameFrame.src = url;

            gameFrame.onerror = () => {
                updateStatus('‚ùå Failed to load from dev server. Is the server running?', true);
            };

            setTimeout(() => {
                updateStatus('‚úì Game loaded from dev server. Check the iframe above.');
            }, 2000);
        }

        function loadPreviewServer() {
            const url = 'http://localhost:4173';
            updateStatus(`Loading from: ${url}`);
            infoDiv.style.display = 'block';
            sourceUrlSpan.textContent = url;
            gameFrame.src = url;

            setTimeout(() => {
                updateStatus('‚úì Game loaded from preview. Check the iframe above.');
            }, 2000);
        }

        // Auto-load from preview for quick testing
        setTimeout(() => {
            loadPreviewServer();
        }, 1000);
    </script>
</body>
</html>
